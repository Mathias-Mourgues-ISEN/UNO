<html
        th:replace="~{layout :: layout(~{::title}, ~{::content})}"
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/html" xmlns:sec="http://www.w3.org/1999/xhtml">
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title th:fragment="title">Lobby</title>
</head>
<body>
<div th:fragment="content" class="container">
    <div sec:authorize="isAuthenticated() == false">
        <meta http-equiv="refresh" content="0; url=/login"/>
        <style>
            body {
                display: none;
            }
        </style>
    </div>
    <h1 class="my-4">Créer d'une partie</h1>
    <button class="btn btn-primary mb-3" onclick="window.location.href='./create';">Générer UUID</button>
    <form action="#" th:action="@{/join}" method="post" th:object="${form}">
        <div class="mb-3">
            <input th:field="*{lobbyId}" class="form-control form-control-lg" type="text"
                   placeholder="Id de la partie"
                   th:classappend="${not #lists.isEmpty(#fields.errors('lobbyId'))} ? is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('lobbyId')}" th:errors="*{lobbyId}"></div>
        </div>
        <button type="submit" class="btn btn-primary">Rejoindre</button>
    </form>
</div>
</body>
</html>

